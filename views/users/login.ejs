<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login | The Test Pulse</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-5" style="max-width: 420px;">

  <!-- ✅ SUCCESS FLASH -->
  <% if (success_msg && success_msg.length > 0) { %>
    <div class="alert alert-success">
      <%= success_msg[0] %>
    </div>
  <% } %>

  <!-- ❌ ERROR FLASH -->
  <% if (error_msg && error_msg.length > 0) { %>
    <div class="alert alert-danger">
      <%= error_msg[0] %>
    </div>
  <% } %>

  <div class="card shadow-sm">
    <div class="card-body">
      <h4 class="mb-4 text-center">Login</h4>

      <form action="/user/login" method="POST" novalidate>
        <div class="mb-3">
          <label>Email</label>
          <input type="email" name="username" class="form-control" required>
        </div>

        <div class="mb-3">
          <label>Password</label>
          <input type="password" name="password" class="form-control" required>
        </div>

        <button class="btn btn-primary w-100">Login</button>

        <p class="text-center mt-3">
          Don't have an account?
          <a href="/user/signup">Signup</a>
        </p>

        <p class="text-center">
          <a href="/user/forget-password">Forgot Password?</a>
        </p>
      </form>
    </div>
  </div>
</div>

<script>
  setTimeout(() => {
    document.querySelectorAll('.alert').forEach(el => el.remove());
  }, 3000);
</script>

</body>
</html>
