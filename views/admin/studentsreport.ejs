<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Report</title>
  <link rel="stylesheet" href="/styles/sidebar3.css"> 
  <link rel="stylesheet" href="/styles/studentreport.css"> 
  <link href="https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css" rel="stylesheet"/>
</head>
<body>

    <main>

        <div id="header-cpm">
            <%- include('../components/admin-sidebar.ejs') %>
        </div>

            <div class="container2">
                <h1>Results for Test: <%= StudentResult.length > 0 ? StudentResult[0].testId.title : 'Test Not Found' %></h1>
                <table>
                  <thead>
                    <tr>
                      <th>Rank</th>
                      <th>Student Name</th>
                      <th>Score</th>
                    </tr>
                  </thead>
                  <tbody>
                    <% StudentResult.forEach((student, index) => { %>
                      <tr>
                        <td><%= index + 1 %></td> <!-- Display rank based on sorted order -->
                        <td><%= student.studentId.name %></td> <!-- Populate student name from 'studentId' -->
                        <td><%= student.score %></td> <!-- Display score -->
                      </tr>
                    <% }) %>
                  </tbody>
                </table>
                <div class="footer">
                  <p>&copy; <%= new Date().getFullYear() %> TheTestPulse. All rights reserved.</p>
                </div>
              </div>
        </div>

    </main>
  
</body>
</html>
